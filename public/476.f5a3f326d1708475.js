"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[476],{476:(V,m,r)=>{r.r(m),r.d(m,{ServersModule:()=>E});var a=r(6895),t=r(4650),g=r(1491),_=r(1458),c=r(9299),l=r(4859),p=r(7392),d=r(1572),s=r(7155),v=r(266),h=r(2993);function Z(e,o){1&e&&(t.TgZ(0,"div",6),t._UZ(1,"mat-spinner",7),t.qZA())}function C(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Name "),t.qZA())}function x(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.server_name," ")}}function S(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Branch "),t.qZA())}function T(e,o){if(1&e&&(t.TgZ(0,"td",23),t._UZ(1,"ng-icon",24),t._uU(2),t.qZA()),2&e){const n=o.$implicit;t.xp6(2),t.hij(" ",n.branch," ")}}function y(e,o){1&e&&t._UZ(0,"th",22)}function U(e,o){1&e&&(t.TgZ(0,"td",23)(1,"mat-icon"),t._uU(2,"arrow_right_alt"),t.qZA()())}function A(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"type "),t.qZA())}function j(e,o){if(1&e&&(t.TgZ(0,"td",23)(1,"span",25),t._uU(2),t.ALo(3,"uppercase"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,n.type)," ")}}function N(e,o){1&e&&t._UZ(0,"th",22)}function Y(e,o){if(1&e&&(t.TgZ(0,"td",23)(1,"span",26),t._uU(2),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("matTooltip",n.path),t.xp6(1),t.hij(" ",n.host," ")}}function D(e,o){1&e&&t._UZ(0,"th",22)}function Q(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",0==n.auto_deploy?"":"Auto deploy active"," ")}}function B(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Revision "),t.qZA())}function I(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.revision||""," ")}}function J(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Action "),t.qZA())}function L(e,o){if(1&e&&(t.TgZ(0,"td",23)(1,"button",27),t._uU(2,"View setup "),t.qZA(),t.TgZ(3,"button",28),t._uU(4," Deploy "),t.qZA()()),2&e){const n=o.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("routerLink","/project/"+i.encode(i.projectId)+"/server/setup/"+i.encode(n.server_id)),t.xp6(2),t.Q6J("routerLink","/project/"+i.encode(i.projectId)+"/deploy/"+i.encode(n.server_id))}}function R(e,o){1&e&&t._UZ(0,"tr",29)}function $(e,o){1&e&&t._UZ(0,"tr",30)}function z(e,o){if(1&e&&(t.TgZ(0,"div",8)(1,"table",9),t.ynx(2,10),t.YNc(3,C,2,0,"th",11),t.YNc(4,x,2,1,"td",12),t.BQk(),t.ynx(5,13),t.YNc(6,S,2,0,"th",11),t.YNc(7,T,3,1,"td",12),t.BQk(),t.ynx(8,14),t.YNc(9,y,1,0,"th",11),t.YNc(10,U,3,0,"td",12),t.BQk(),t.ynx(11,15),t.YNc(12,A,2,0,"th",11),t.YNc(13,j,4,3,"td",12),t.BQk(),t.ynx(14,16),t.YNc(15,N,1,0,"th",11),t.YNc(16,Y,3,2,"td",12),t.BQk(),t.ynx(17,17),t.YNc(18,D,1,0,"th",11),t.YNc(19,Q,2,1,"td",12),t.BQk(),t.ynx(20,18),t.YNc(21,B,2,0,"th",11),t.YNc(22,I,2,1,"td",12),t.BQk(),t.ynx(23,19),t.YNc(24,J,2,0,"th",11),t.YNc(25,L,5,2,"td",12),t.BQk(),t.YNc(26,R,1,0,"tr",20),t.YNc(27,$,1,0,"tr",21),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.servers),t.xp6(25),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}let b=(()=>{class e{constructor(n,i,P){this.apiService=n,this.helper=i,this.activatedRoute=P,this.projectId="",this.displayedColumns=["action","server_name","branch","r","type","host","auto_deploy","revision"],this.servers=[],this.gettingServers=!1}encode(n){return this.helper.encode(n)}set setChildData(n){this.projectId=n.projectId,this.project=n.project,this.helper.setPage("project"+this.projectId+"servers"),this.getServers()}ngOnInit(){}getServers(){this.gettingServers=!0,this.apiService.post("servers/list",{project_id:this.projectId}).subscribe({next:n=>{this.gettingServers=!1,n.status?this.servers=n.data.servers:this.helper.alertError(n)},error:n=>{this.gettingServers=!1,this.helper.alertError(n)}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.s),t.Y36(_.W),t.Y36(c.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-servers"]],decls:9,vars:3,consts:[[1,"page"],[1,"header"],[1,"btns"],["mat-stroked-button","","color","primary","type","button",3,"routerLink"],["style","padding: 30px",4,"ngIf"],["class","table2",4,"ngIf"],[2,"padding","30px"],["diameter","50"],[1,"table2"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","server_name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","branch"],["matColumnDef","r"],["matColumnDef","type"],["matColumnDef","host"],["matColumnDef","auto_deploy"],["matColumnDef","revision"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["name","ionGitBranch",2,"font-size","21px","vertical-align","middle"],[1,"label"],[3,"matTooltip"],["type","button","mat-button","","color","primary",2,"margin-right","7px",3,"routerLink"],["type","button","mat-button","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Servers"),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6," add server "),t.qZA()()()(),t.YNc(7,Z,2,0,"div",4),t.YNc(8,z,28,3,"div",5)),2&n&&(t.xp6(5),t.Q6J("routerLink","/project/"+i.encode(i.projectId)+"/server/add"),t.xp6(2),t.Q6J("ngIf",i.gettingServers),t.xp6(1),t.Q6J("ngIf",i.servers.length))},dependencies:[a.O5,c.rH,l.lW,p.Hw,d.Ou,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,v.gM,h.Fv,a.gd]}),e})();var H=r(3546),u=r(4006),M=r(9549),O=r(4144),G=r(3238),F=r(4385),W=r(5412),f=r(3068);let X=[{path:"",component:b}],E=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,c.Bz.forChild(X),H.QW,l.ot,u.u5,u.UX,M.lN,O.c,p.Ps,G.Ng,F.LD,d.Cq,W.Is,s.p0,v.AV,h.sU.withIcons({ionGitBranch:f.bDe,ionGitBranchOutline:f.prA})]}),e})()}}]);