"use strict";(self.webpackChunkng=self.webpackChunkng||[]).push([[348],{7798:(V,A,r)=>{r.r(A),r.d(A,{GitAccountsModule:()=>U});var v=r(6895),t=r(4650),T=r(1491),w=r(1458),E=r(9299),S=r(4859),m=r(7155);function y(s,c){1&s&&(t.TgZ(0,"th",16),t._uU(1," Actions "),t.qZA())}function x(s,c){if(1&s){const o=t.EpF();t.TgZ(0,"td",17)(1,"button",18),t.NdJ("click",function(){const M=t.CHM(o).$implicit,Y=t.oxw();return t.KtG(Y.remove(M))}),t._uU(2," Remove "),t.qZA()()}}function G(s,c){1&s&&(t.TgZ(0,"th",16),t._uU(1,"Identification "),t.qZA())}function D(s,c){if(1&s&&(t.TgZ(0,"td",17)(1,"span",19),t._uU(2,"Logged in as"),t.qZA(),t._uU(3),t.qZA()),2&s){const o=c.$implicit;t.xp6(3),t.hij(" @",o.git_username," ")}}function Z(s,c){1&s&&(t.TgZ(0,"th",16),t._uU(1,"Provider "),t.qZA())}function a(s,c){if(1&s&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&s){const o=c.$implicit;t.xp6(1),t.hij(" ",o.provider_name," ")}}function e(s,c){1&s&&(t.TgZ(0,"th",16),t._uU(1," Token expires "),t.qZA())}function i(s,c){if(1&s&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&s){const o=c.$implicit;t.xp6(1),t.hij(" ",o.expires," ")}}function n(s,c){1&s&&(t.TgZ(0,"th",16),t._uU(1," Token "),t.qZA())}function h(s,c){if(1&s&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&s){const o=c.$implicit;t.xp6(1),t.hij(" ",o.access_token," ")}}function l(s,c){1&s&&(t.TgZ(0,"th",16),t._uU(1," OAuth client "),t.qZA())}function u(s,c){if(1&s&&(t.TgZ(0,"td",17),t._uU(1),t.qZA()),2&s){const o=c.$implicit;t.xp6(1),t.hij(" ",o.client_id," ")}}function f(s,c){1&s&&t._UZ(0,"tr",20)}function p(s,c){1&s&&t._UZ(0,"tr",21)}let d=(()=>{class s{constructor(o,C){this.apiService=o,this.helper=C,this.displayedColumns=["actions","provider","username","token","expires","client_id"],this.dataSource=[],this.loading=!1}ngOnInit(){this.load(),this.helper.setPage("git-accounts")}remove(o){this.helper.alert({type:"warning",message:"Do you want to delete the oauth app",buttons:["Close","Delete"]}).afterClosed().subscribe({next:k=>{"Delete"==k&&this._remove(o)},error:()=>{}})}_remove(o){this.apiService.post("oauth/delete-git-accounts",o).subscribe({next:()=>{this.load()},error:()=>{}})}load(){this.loading=!0,this.apiService.post("oauth/git-accounts",{}).subscribe({next:o=>{this.loading=!1,o.status?(console.log(o),this.dataSource=o.data.accounts):this.helper.alertError(o)},error:o=>{this.loading=!1,this.helper.alertError(o)}})}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(T.s),t.Y36(w.W))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-git-accounts"]],decls:29,vars:3,consts:[[1,"page"],[1,"header"],[1,"btns"],["mat-stroked-button","","color","primary","routerLink","/git-accounts/create"],[1,"table2"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","provider"],["matColumnDef","expires"],["matColumnDef","token"],["matColumnDef","client_id"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["type","button","mat-button","","color","primary",3,"click"],[2,"color","#999"],["mat-header-row",""],["mat-row",""]],template:function(o,C){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2"),t._uU(3,"Git accounts"),t.qZA(),t.TgZ(4,"div",2)(5,"button",3),t._uU(6,"Create "),t.qZA()()()(),t.TgZ(7,"div",4)(8,"table",5),t.ynx(9,6),t.YNc(10,y,2,0,"th",7),t.YNc(11,x,3,0,"td",8),t.BQk(),t.ynx(12,9),t.YNc(13,G,2,0,"th",7),t.YNc(14,D,4,1,"td",8),t.BQk(),t.ynx(15,10),t.YNc(16,Z,2,0,"th",7),t.YNc(17,a,2,1,"td",8),t.BQk(),t.ynx(18,11),t.YNc(19,e,2,0,"th",7),t.YNc(20,i,2,1,"td",8),t.BQk(),t.ynx(21,12),t.YNc(22,n,2,0,"th",7),t.YNc(23,h,2,1,"td",8),t.BQk(),t.ynx(24,13),t.YNc(25,l,2,0,"th",7),t.YNc(26,u,2,1,"td",8),t.BQk(),t.YNc(27,f,1,0,"tr",14),t.YNc(28,p,1,0,"tr",15),t.qZA()()),2&o&&(t.xp6(8),t.Q6J("dataSource",C.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",C.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",C.displayedColumns))},dependencies:[E.rH,S.lW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk]}),s})();var _=r(7392);let g=[{path:"git-accounts",component:d}],U=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[v.ez,E.Bz.forChild(g),S.ot,_.Ps,m.p0]}),s})()},5017:(V,A,r)=>{r.d(A,{A8:()=>D,Ov:()=>x,Z9:()=>E,eX:()=>y,k:()=>Z,yy:()=>m});var v=r(4033),t=r(7579),T=r(4650);function E(a){return a&&"function"==typeof a.connect&&!(a instanceof v.c)}class m{applyChanges(e,i,n,h,l){e.forEachOperation((u,f,p)=>{let d,_;if(null==u.previousIndex){const g=n(u,f,p);d=i.createEmbeddedView(g.templateRef,g.context,g.index),_=1}else null==p?(i.remove(f),_=3):(d=i.get(f),i.move(d,p),_=2);l&&l({context:d?.context,operation:_,record:u})})}detach(){}}class y{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,i,n,h,l){e.forEachOperation((u,f,p)=>{let d,_;null==u.previousIndex?(d=this._insertView(()=>n(u,f,p),p,i,h(u)),_=d?1:0):null==p?(this._detachAndCacheView(f,i),_=3):(d=this._moveView(f,p,i,h(u)),_=2),l&&l({context:d?.context,operation:_,record:u})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,i,n,h){const l=this._insertViewFromCache(i,n);if(l)return void(l.context.$implicit=h);const u=e();return n.createEmbeddedView(u.templateRef,u.context,u.index)}_detachAndCacheView(e,i){const n=i.detach(e);this._maybeCacheView(n,i)}_moveView(e,i,n,h){const l=n.get(e);return n.move(l,i),l.context.$implicit=h,l}_maybeCacheView(e,i){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const n=i.indexOf(e);-1===n?e.destroy():i.remove(n)}}_insertViewFromCache(e,i){const n=this._viewCache.pop();return n&&i.insert(n,e),n||null}}class x{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,i,n=!0,h){this._multiple=e,this._emitChanges=n,this.compareWith=h,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new t.x,i&&i.length&&(e?i.forEach(l=>this._markSelected(l)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(n=>this._markSelected(n));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...e){this._verifyValueAssignment(e),e.forEach(n=>this._unmarkSelected(n));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...e){this._verifyValueAssignment(e);const i=this.selected,n=new Set(e);e.forEach(l=>this._markSelected(l)),i.filter(l=>!n.has(l)).forEach(l=>this._unmarkSelected(l));const h=this._hasQueuedChanges();return this._emitChangeEvent(),h}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const i=this._hasQueuedChanges();return e&&this._emitChangeEvent(),i}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let i of this._selection)if(this.compareWith(e,i))return i;return e}return e}}let D=(()=>{class a{constructor(){this._listeners=[]}notify(i,n){for(let h of this._listeners)h(i,n)}listen(i){return this._listeners.push(i),()=>{this._listeners=this._listeners.filter(n=>i!==n)}}ngOnDestroy(){this._listeners=[]}}return a.\u0275fac=function(i){return new(i||a)},a.\u0275prov=T.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Z=new T.OlP("_ViewRepeater")}}]);